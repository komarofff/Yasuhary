<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Photo gallery</title>
    <style>

        .gallery-photo {
            display:inline-block;
            cursor: pointer;
            width: 200px;
            height: 100px;
            object-fit: cover;
            object-position: center;
            border-radius: 10px;
            margin: 5px;
            -webkit-filter: brightness(40%);
            -moz-filter: brightness(40%);
            -ms-filter: brightness(40%);
            -o-filter: brightness(40%);
            filter: brightness(40%);
        }

        .gallery-photo:hover {
            -webkit-filter: brightness(100%);
            -moz-filter: brightness(100%);
            -ms-filter: brightness(100%);
            -o-filter: brightness(100%);
            filter: brightness(100%);
        }

        #gallery-block {
            background: #444444;
        }

        #gallery {
            height: auto;
            width: calc(100vw*1000);
            overflow-x: hidden;
        }
@keyframes fade-in {
    0%{opacity: 0;}
    110%{opacity: 1;}

}
        #top-photo img {
            max-width: 90vw;
            height: 80vh;
            border-radius: 20px;
            object-fit: cover;
            object-position: center;
            animation: fade-in .5s ease-in-out;

        }

        .top-photo {
            -webkit-filter: brightness(100%);
            -moz-filter: brightness(100%);
            -ms-filter: brightness(100%);
            -o-filter: brightness(100%);
            filter: brightness(100%);
        }
    </style>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
<div id="gallery-block" class="w-screen h-screen relative overflow-hidden">
    <p id="top-photo" class=" absolute top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4"></p>
    <div id="gallery" class="block  absolute bottom-1 ">
        <img class="gallery-photo top-photo" src="images/proba.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/proba2.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
        <img class="gallery-photo" src="images/single-big-photo.jpg" alt="">
    </div>
</div>

<script>
    // сколько фоток в экране -считать
    // по нажатию менять яркость
    // сколько фоток в экране
    // сколько фоток в экране


    let gallery = document.getElementById('gallery')
    const allPhotos = gallery.querySelectorAll('.gallery-photo')

    document.addEventListener('DOMContentLoaded', () => {
        calcData()
        getTopPhoto()
    })
    window.onresize = ()=>{
        calcData()
    }

    allPhotos.forEach((elem,index) => {
        elem.addEventListener('click', (e) => {
            var currentTargetNumber = index+1
            for (let i = 0; i < allPhotos.length; i++) {
                allPhotos[i].classList.remove('top-photo')
            }
            e.target.classList.add('top-photo')
            console.log('currentTargetNumber ='+currentTargetNumber )
            getTopPhoto()
        })
    })
function calcData(){
    const screenWidth = document.documentElement.clientWidth
    const singlePhotoWidth = allPhotos[0].getBoundingClientRect().width+10
    const amountPhotosInScreen = Math.floor(screenWidth/singlePhotoWidth)
    console.log('amountPhotosInScreen ='+amountPhotosInScreen ,'singlePhotoWidth='+singlePhotoWidth, 'screenWidth='+screenWidth)
}
    function getTopPhoto() {

        if (gallery.querySelector('.top-photo')) {
            const topPhoto = gallery.querySelector('.top-photo')
            //let pk = topPhoto.cloneNode()
            //console.log(pk)
            const newPhoto = topPhoto.src
            document.getElementById('top-photo').innerHTML = `<img src="${newPhoto}">`
            //document.getElementById('top-photo').appendChild(pk)
        }


    }
</script>
</body>
</html>